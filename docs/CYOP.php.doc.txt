┏━━━━┓
┃CYOP.php┃
┗━━━━┛

ディレクトリ名、ファイル名は変更可能。
ただしファイル名はXXX.phpとし、XXXの部分に「.」を含めてはいけない。

以下「CYOP」となっている個所は、ファイル名変更時にはファイル名の「.」以前を全て大文字にしたものに置き換わる。

■定数のセット
▽LOG_PATH
ログの格納先ディレクトリ
未指定の場合、
[CYOP.phpの格納ディレクトリ]/logs/
が指定される。

▽CYOP_ERROR_REPORT_ENABLED
エラーを画面出力するかどうかのフラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.error_report
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_CONFIG_XML_PATH
指定されていたら、指定先のファイルの読み込みを行う。

▽CYOP_ERROR_FINALIS
システムエラー（強制終了）発生時に、必ず通したい処理があれば通す関数名を記載しておく。

▽CYOP_STAGE_LOCAL_ENABLED
ローカル環境フラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.local
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_STAGE_DEV_ENABLED
開発環境フラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.dev
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_STAGE_TEST_ENABLED
テスト環境(テスト用凍結環境)フラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.test
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_STAGE_STAGING_ENABLED
ステージング環境フラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.staging
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_DEBUG_MODE_ENABLED
デバッグモードフラグ

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.debug
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_ERROR_REPORT_ENABLED
エラーレポート★使用目的不明マジカル不明

設定ファイルのパスを記載しておく。
未設定の場合は、
[CYOP.phpの格納ディレクトリ]/.error_report
を設定ファイルのパスとする。
ファイルの存在有無で、フラグを判断する。

▽CYOP_USE_DI_FLAG
華麗にスルー。

★loadModuleと関連しているのでスルー

■関数
▽loadModule

★吐きそうになったのでスルー

▽initCYOP
外部からフレームワークを明示的に初期化する際に使用する。

▽errorCYOP
外部からフレームワークを明示的にエラー処理する際に使用する。

▽setSessionID
セッションIDをセットする。
引数１：セッションID
※初期セットのタイミングが不明。

▽getSessionID
セッションIDを取得する。

▽setUID
UID（携帯端末の個体識別情報）をセットする。
引数１：UID
※初期セットのタイミングが不明。
★ソース内に記載してあるコメントが適切でない。

▽getUID
UID（携帯端末の個体識別情報）を取得する。
★ソース内に記載してあるコメントが適切でない。

▽logging
ログ出力を行う。
引数１：ログ出力文字列
　配列やオブジェクトの場合、文字列表現に変換した値（var_export）で出力を行う。
　環境変数[REQUEST_URI]があれば、ログ出力文字列の前に「[URI:」＋[REQUEST_URI]＋「]」を付加する。
　ログ出力文字列の前に“Y-m-d H:i:s”形式のシステム日時＋「 [UDate:」＋[Unixタイムスタンプをマイクロ秒まで]＋「]」を付加する。
　例．2011-5-24 16:01:35 [UDate:1306219997.6715][URI:"REQUEST_URI"]XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
　　　2011-5-24 16:01:35 [UDate:1306219997.6715]XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
引数２：ログ名称
　・process_logファイル
　・[ログ名称]_logファイル
　にログ出力を行う。
引数３：画面出力フラグ
　画面出力フラグが有効で、DEBUG_FLAG（定数として事前に設定）が有効な場合、ログを画面に出力する。

DEBUG_FLAG（定数として事前に設定）が有効な場合、HTTPヘッダーに
「debug」＋出力ログ回数＋「: [」＋[ログ名称]＋「]」＋[ログ出力文字列]
を出力する。

★下記のコメントとソースが一致していないように見える。
「\r\n」を「\r」に置換した後で「\r」を「[EOL]」に置換が正しい？
=====
// 改行コードは\rだけにして、一行で表現出来るようにする
$logstr = str_replace("\r",'[EOL]',$logstr);
$logstr = str_replace("\n",'[EOL]',$logstr);
=====

▽debug
デバッグログの出力を行う。
ログ名称は「debug」、画面出力フラグはTRUE。
引数１：ログ出力文字列

▽constants
定数が存在するかを正規表現で検索し、結果を返す。
引数１：正規表現（検索フラグが無効な場合は変数名）
引数２：検索フラグ
　有効な場合は引数１で検索を行う。
　無効な場合は引数１に該当する定数の値を返す。

★「手数を正規表現で検索可能にする」とコメントにあるが「定数」だと思われる。

▽loadConfig
★吐きそうになったのでスルー

▽全体
[CYOP.phpの格納ディレクトリ]/config.xml
の読み込みを行う。

[CYOP.phpの格納ディレクトリ]/CYOP.config.xml
の読み込みを行う。

パス関連と思われる定数をset_include_pathでセットする。

★「本番環境意外はすべてエラーを出す！！！」とあるが「以外」の誤り。

★「error_reporting」に「E_STRICT」は使用しない？
